{% extends 'base.html' %}

{% block content %}

<h1>Temporal Infrastructure Provisioning</h1>
<h2>Terraform Scenarios</h2>
<table class="table table-sm table-striped">
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Directory</th>
    </tr>
    {% for name, scenario in scenarios.items() %}
    <tr>
        <td>{{ name }}</td>
        <td>{{ scenario["description"] }}</td>
        <td><pre>{{ scenario["directory"] }}</pre></td>
    </tr>
    {% endfor %}
</table>

<h4>Choose Scenario</h4>
<select id="scenario" name="scenario">
    {% for name in scenarios.keys() %}
        <option value="{{ name }}">{{ name }}</option>
    {% endfor %}
</select>

<button class="btn btn-primary" onclick="provisionInfra()">Provision Infrastructure</button>
<input type="hidden" id="tfRunID" value="{{ wf_id }}">

{% endblock %}